<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Mouse Move Shadow</title>
	<style type="text/css">
		.wrap {
			min-height: 100vh;
			display: flex;
			justify-content: center;
			align-items: center;
			color: black;
		}
		.wrap h1 {
			text-shadow: 10px 10px 0 rgba(0, 0, 0, .5);
			font-size: 5em;
		}
	</style>
</head>
<body>
	<div class="wrap">
		<h1>Hello Halloween</h1>
	</div>

	<script type="text/javascript">
		const wrap = document.querySelector('.wrap')
		const h1 = document.querySelector('h1')
		const walk = 40 // 移动距离

		function move(e) {
			let {offsetWidth: width, offsetHeight: height} = wrap // 解构赋值, 获得wrap宽高
			let {offsetX: x, offsetY: y} = e // 获得鼠标位置

			if(e.target !== this) { // 当鼠标移动到文字时，e.target发生变化，鼠标位置需要矫正
				x += e.target.offsetLeft
				y += e.target.offsetTop
			}

			let newX = Math.floor((x/width)*walk - (walk/2))
			let newY = Math.floor((y/height)*walk - (walk/2))

			// 可添加多个阴影
			h1.style.textShadow = `
				${newX}px ${newY}px 2px rgba(0, 0, 255, .8)
			`
		}

		wrap.addEventListener('mousemove', move)
	</script>
</body>
</html>